<!DOCTYPE html>
<head>
  <title> Consent Game </title>

<style>
div#test{
  border:none;
  padding:10px 40px 40px 40px;
  background-color:#E6CF8B;
  width:100%;
  color: #22264B;
}
</style>

<script type="text/javascript">
var pos = 0;
var correct = 0;
var test, test_status, question, choice, choices, chA, chB, chC;
var questions = [
// Question 1
  ["Which of the following is accurate about consent?", "Consent is an agreement between participants to engage in sexual activity", "Silence equals permission", "Kissing is an invitation for more", "A"],
// Question 2
  ["Which of the following is a common misconception about consent?", "Consent is about communication", "Partners are on the same page", "Previous sexual engagement is a free pass", "C"],
// Question 3
  ["Which of the following is NOT an example of consent?", "Stopping when people say 'no' or 'stop'", "Engaging in sexual acts while someone is passed out", "Checking in when people stop seeming interested or become limp, stiff, or non-communicative", "B"],
// Question 4
  ["Which of the following shows consent?", "Reading certain clothing or flirting as an invitation for more", "Perceiving 'no' as a playful tease ", "Checking in when changing the type or degree of sexual activity", "C"],
// Question 5
  ["Devon and Taylor are thinking about taking it to the next level on their date night. They discuss how they feel about each other and both parties say 'yes' to engaging in sexual activity. Devon decides that they don't feel ready and Taylor gets upset, causing them to do something bad. Which of the following do you think Taylor did?", "Made Devon say okay because Taylor worked so hard to set up the date", "Accepted Devon's change of mind and suggested a movie instead", "Said 'okay'", "A"],
  ];

function get(x){
  return document.getElementById(x);
}

function renderQuestion(){
  test = get("test");
  if(pos >= questions.length){
    test.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct</h2>";
    get("test_status").innerHTML = "Test completed";
    // resets the variable to allow users to restart the test
    pos = 0;
    correct = 0;
    // stops rest of renderQuestion function running when test is completed
    return false;
  }
  get("test_status").innerHTML = "Question "+(pos+1)+" of "+questions.length;
  question = questions[pos][0];
  chA = questions[pos][1];
  chB = questions[pos][2];
  chC = questions[pos][3];
  test.innerHTML = "<h3>"+question+"</h3>";
  // the += appends to the data we started on the line above
  test.innerHTML += "<input type='radio' name='choices' value='A'> "+chA+"<br>";
  test.innerHTML += "<input type='radio' name='choices' value='B'> "+chB+"<br>";
  test.innerHTML += "<input type='radio' name='choices' value='C'> "+chC+"<br><br>";
  test.innerHTML += "<button onclick='checkAnswer()'>Submit Answer</button>";
}

function checkAnswer(){
  // use getElementsByName because we have an array which it will loop through
  choices = document.getElementsByName("choices");
  for(var i=0; i<choices.length; i++){
    if(choices[i].checked){
      choice = choices[i].value;
    }
  }

  // checks if answer matches the correct choice
  if(choice == questions[pos][4]){
    //each time there is a correct answer this value increases
    correct++;
  }
  // changes position of which character user is on
  pos++;
  // then the renderQuestion function runs again to go to next question
  renderQuestion();
}

window.addEventListener("load", renderQuestion, false);

</script>

<meta charset="utf-8"/>
</head>

<body>
<h2 id="test_status"></h2>
<div id="test"></div>
</body>

</html>
